/*!
 * GMaps.js
 * http://hpneo.github.com/gmaps/
 *
 * Copyright 2012, Gustavo Leon
 * Released under the MIT License.
 */
var GMaps=(function(){var c=document;var b=function(d){return c.getElementById(d)};var a=function(p){var o=this;window.context_menu={};this.div=b(p.div.replace("#",""));this.div.style.width=this.div.clientWidth||p.width;this.div.style.height=this.div.clientHeight||p.height;this.controls=[];this.overlays=[];this.layers=[];this.markers=[];this.polylines=[];this.routes=[];this.polygons=[];this.infoWindow=null;this.overlay_div=null;this.zoom=p.zoom||15;var i;if(p.mapType){i=google.maps.MapTypeId[p.mapType.toUpperCase()]}else{i=google.maps.MapTypeId.ROADMAP}var f=new google.maps.LatLng(p.lat,p.lng);delete p.div;delete p.lat;delete p.lng;delete p.mapType;delete p.width;delete p.height;var h={zoom:this.zoom,center:f,mapTypeId:i};var n=extend_object(h,p);this.map=new google.maps.Map(this.div,n);var j=function(u,y){var x="";var C=window.context_menu[u];for(var v in C){if(C.hasOwnProperty(v)){var w=C[v];x+='<li><a id="'+u+"_"+v+'" href="#">'+w.title+"</a></li>"}}if(!b("gmaps_context_menu")){return}var z=b("gmaps_context_menu");z.innerHTML=x;var q=z.getElementsByTagName("a");var B=q.length;for(var v=0;v<B;v++){var s=q[v];var t=function(D){D.preventDefault();C[this.id.replace(u+"_","")].action.call(o,y);o.hideContextMenu()};google.maps.event.clearListeners(s,"click");google.maps.event.addDomListenerOnce(s,"click",t,false)}var r=o.div.offsetLeft+y.pixel.x-15;var A=o.div.offsetTop+y.pixel.y-15;z.style.left=r+"px";z.style.top=A+"px";z.style.display="block"};var k=function(s,r){if(s==="marker"){r.pixel={};var q=new google.maps.OverlayView();q.setMap(o.map);q.draw=function(){var u=q.getProjection();var t=r.marker.getPosition();r.pixel=u.fromLatLngToContainerPixel(t);j(s,r)}}else{j(s,r)}};this.setContextMenu=function(q){window.context_menu[q.control]={};for(var s in q.options){if(q.options.hasOwnProperty(s)){var t=q.options[s];window.context_menu[q.control][t.name]={title:t.title,action:t.action}}}var r=c.createElement("ul");r.id="gmaps_context_menu";r.style.display="none";r.style.position="absolute";r.style.minWidth="100px";r.style.background="white";r.style.listStyle="none";r.style.padding="8px";r.style.boxShadow="2px 2px 6px #ccc";c.body.appendChild(r);var u=b("gmaps_context_menu");google.maps.event.addDomListener(u,"mouseout",function(v){if(!v.relatedTarget||!this.contains(v.relatedTarget)){window.setTimeout(function(){u.style.display="none"},400)}},false)};this.hideContextMenu=function(){var q=b("gmaps_context_menu");if(q){q.style.display="none"}};var m=["bounds_changed","center_changed","click","dblclick","drag","dragend","dragstart","idle","maptypeid_changed","projection_changed","resize","tilesloaded","zoom_changed"];var e=["mousemove","mouseout","mouseover"];for(var l=0;l<m.length;l++){(function(r,q){google.maps.event.addListener(r,q,function(s){if(p[q]){p[q].apply(this,[s])}o.hideContextMenu()})})(this.map,m[l])}for(var l=0;l<e.length;l++){(function(r,q){google.maps.event.addListener(r,q,function(s){if(p[q]){p[q].apply(this,[s])}})})(this.map,e[l])}google.maps.event.addListener(this.map,"rightclick",function(q){if(p.rightclick){p.rightclick.apply(this,[q])}k("map",q)});this.refresh=function(){google.maps.event.trigger(this.map,"resize")};this.fitZoom=function(){var s=[];var q=this.markers.length;for(var r=0;r<q;r++){s.push(this.markers[r].getPosition())}this.fitBounds(s)};this.fitBounds=function(t){var s=t.length;var r=new google.maps.LatLngBounds();for(var q=0;q<s;q++){r.extend(t[q])}this.map.fitBounds(r)};this.setCenter=function(r,q,s){this.map.panTo(new google.maps.LatLng(r,q));if(s){s()}};this.getCenter=function(){return this.map.getCenter()};this.getDiv=function(){return this.div};this.setZoom=function(q){this.map.setZoom(q)};this.zoomIn=function(q){this.map.setZoom(this.map.getZoom()+q)};this.zoomOut=function(q){this.map.setZoom(this.map.getZoom()-q)};this.createControl=function(q){var t=c.createElement("div");t.style.cursor="pointer";t.style.fontFamily="Arial, sans-serif";t.style.fontSize="13px";t.style.boxShadow="rgba(0, 0, 0, 0.398438) 0px 2px 4px";for(var r in q.style){t.style[r]=q.style[r]}t.textContent=q.text;for(var s in q.events){(function(v,u){google.maps.event.addDomListener(v,u,function(){q.events[u].apply(this,[this])})})(t,s)}t.index=1;return t};this.addControl=function(r){var q=google.maps.ControlPosition[r.position.toUpperCase()];delete r.position;var s=this.createControl(r);this.controls.push(s);this.map.controls[q].push(s);return s};this.createMarker=function(A){if(A.lat&&A.lng){var z=this;var r=A.details;var u=A.fences;var w=A.outside;var t={position:new google.maps.LatLng(A.lat,A.lng),map:null};delete A.lat;delete A.lng;delete A.fences;delete A.outside;var s=extend_object(t,A);var v=new google.maps.Marker(s);v.fences=u;if(A.infoWindow){v.infoWindow=new google.maps.InfoWindow(A.infoWindow);var q=["closeclick","content_changed","domready","position_changed","zindex_changed"];for(var x=0;x<q.length;x++){(function(C,B){google.maps.event.addListener(C,B,function(D){if(A.infoWindow[B]){A.infoWindow[B].apply(this,[D])}})})(v.infoWindow,q[x])}}var y=["drag","dragstart","mouseout","mouseover","mouseup","position_changed"];for(var x=0;x<y.length;x++){(function(C,B){google.maps.event.addListener(C,B,function(){if(A[B]){A[B].apply(this,[this])}})})(v,y[x])}google.maps.event.addListener(v,"click",function(){this.details=r;if(A.click){A.click.apply(this,[this])}if(v.infoWindow){z.hideInfoWindows();v.infoWindow.open(z.map,v)}});if(A.dragend||v.fences){google.maps.event.addListener(v,"dragend",function(){if(A.dragend){A.dragend.apply(this,[this])}if(v.fences){z.checkMarkerGeofence(v,function(B,C){w(B,C)})}})}return v}else{throw"No latitude or longitude defined"}};this.addMarker=function(r){if(r.lat&&r.lng){var q=this.createMarker(r);q.setMap(this.map);this.markers.push(q);return q}else{throw"No latitude or longitude defined"}};this.addMarkers=function(s){for(var r=0,q;q=s[r];r++){this.addMarker(q)}return this.markers};this.hideInfoWindows=function(){for(var r=0,q;q=this.markers[r];r++){if(q.infoWindow){q.infoWindow.close()}}};this.removeMarkers=function(){for(var r=0,q;q=this.markers[r];r++){q.setMap(null)}this.markers=[]};this.drawOverlay=function(r){var q=new google.maps.OverlayView();q.setMap(o.map);q.onAdd=function(){var u=c.createElement("div");u.style.borderStyle="none";u.style.borderWidth="0px";u.style.position="absolute";u.style.zIndex=100;u.innerHTML=r.content;o.overlay_div=u;var t=this.getPanes();if(!r.layer){r.layer="overlayLayer"}var s=t[r.layer];s.appendChild(u)};q.draw=function(){var s=this.getProjection();var u=s.fromLatLngToDivPixel(new google.maps.LatLng(r.lat,r.lng));r.horizontalOffset=r.horizontalOffset||0;r.verticalOffset=r.verticalOffset||0;var x=o.overlay_div;var v=x.children[0];var t=v.clientHeight;var w=v.clientWidth;switch(r.verticalAlign){case"top":x.style.top=(u.y-t+r.verticalOffset)+"px";break;default:case"middle":x.style.top=(u.y-(t/2)+r.verticalOffset)+"px";break;case"bottom":x.style.top=(u.y+r.verticalOffset)+"px";break}switch(r.horizontalAlign){case"left":x.style.left=(u.x-w+r.horizontalOffset)+"px";break;default:case"center":x.style.left=(u.x-(w/2)+r.horizontalOffset)+"px";break;case"right":x.style.left=(u.x+r.horizontalOffset)+"px";break}};q.onRemove=function(){o.overlay_div.parentNode.removeChild(o.overlay_div);o.overlay_div=null};o.overlays.push(q);return q};this.removeOverlay=function(q){q.setMap(null)};this.removeOverlays=function(){for(var q=0,r;r=o.overlays[q];q++){r.setMap(null)}o.overlays=[]};this.drawPolyline=function(s){var w=[];var u=s.path;if(u.length){if(u[0][0]===undefined){w=u}else{for(var t=0,x;x=u[t];t++){w.push(new google.maps.LatLng(x[0],x[1]))}}}var r=new google.maps.Polyline({map:this.map,path:w,strokeColor:s.strokeColor,strokeOpacity:s.strokeOpacity,strokeWeight:s.strokeWeight});var q=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"];for(var v=0;v<q.length;v++){(function(z,y){google.maps.event.addListener(z,y,function(A){if(s[y]){s[y].apply(this,[A])}})})(r,q[v])}this.polylines.push(r);return r};this.drawCircle=function(q){q=extend_object({map:this.map,center:new google.maps.LatLng(q.lat,q.lng)},q);delete q.lat;delete q.lng;var r=new google.maps.Circle(q);var t=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"];for(var s=0;s<t.length;s++){(function(v,u){google.maps.event.addListener(v,u,function(w){if(q[u]){q[u].apply(this,[w])}})})(r,t[s])}return r};this.drawPolygon=function(r){r=extend_object({map:this.map},r);if(r.paths.length>0){if(r.paths[0].length>0){r.paths=array_map(r.paths,q)}}var s=new google.maps.Polygon(r);var u=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"];for(var t=0;t<u.length;t++){(function(w,v){google.maps.event.addListener(w,v,function(x){if(r[v]){r[v].apply(this,[x])}})})(s,u[t])}this.polygons.push(s);return s;function q(v){return new google.maps.LatLng(v[0],v[1])}};this.getFromFusionTables=function(r){var t=r.events;delete r.events;var q=r;var s=new google.maps.FusionTablesLayer(q);for(var u in t){(function(w,v){google.maps.event.addListener(w,v,function(x){t[v].apply(this,[x])})})(s,u)}this.layers.push(s);return s};this.loadFromFusionTables=function(q){var r=this.getFromFusionTables(q);r.setMap(this.map);return r};this.getFromKML=function(r){var q=r.url;var t=r.events;delete r.url;delete r.events;var v=r;var s=new google.maps.KmlLayer(q,v);for(var u in t){(function(x,w){google.maps.event.addListener(x,w,function(y){t[w].apply(this,[y])})})(s,u)}this.layers.push(s);return s};this.loadFromKML=function(q){var r=this.getFromKML(q);r.setMap(this.map);return r};var d,g;this.getRoutes=function(u){switch(u.travelMode){case"bicycling":d=google.maps.TravelMode.BICYCLING;break;case"driving":d=google.maps.TravelMode.DRIVING;break;default:d=google.maps.TravelMode.WALKING;break}if(u.unitSystem==="imperial"){g=google.maps.UnitSystem.IMPERIAL}else{g=google.maps.UnitSystem.METRIC}var t={avoidHighways:false,avoidTolls:false,optimizeWaypoints:false,waypoints:[]};var s=extend_object(t,u);s.origin=new google.maps.LatLng(u.origin[0],u.origin[1]);s.destination=new google.maps.LatLng(u.destination[0],u.destination[1]);s.travelMode=d;s.unitSystem=g;delete s.callback;var r=this;var q=new google.maps.DirectionsService();q.route(s,function(v,w){if(w===google.maps.DirectionsStatus.OK){for(var x in v.routes){if(v.routes.hasOwnProperty(x)){r.routes.push(v.routes[x])}}}if(u.callback){u.callback(r.routes)}})};this.drawRoute=function(r){var q=this;this.getRoutes({origin:r.origin,destination:r.destination,travelMode:r.travelMode,callback:function(s){if(s.length>0){q.drawPolyline({path:s[s.length-1].overview_path,strokeColor:r.strokeColor,strokeOpacity:r.strokeOpacity,strokeWeight:r.strokeWeight});if(r.callback){r.callback(s[s.length-1])}}}})};this.travelRoute=function(r){if(r.origin&&r.destination){this.getRoutes({origin:r.origin,destination:r.destination,travelMode:r.travelMode,callback:function(y){if(y.length>0&&r.step){var v=y[y.length-1];if(v.legs.length>0){var u=v.legs[0].steps;for(var w=0,x;x=u[w];w++){x.step_number=w;r.step(x)}}}}})}else{if(r.route){if(r.route.legs.length>0){var q=r.route.legs[0].steps;for(var s=0,t;t=q[s];s++){t.step_number=s;r.step(t)}}}}};this.drawSteppedRoute=function(r){if(r.origin&&r.destination){this.getRoutes({origin:r.origin,destination:r.destination,travelMode:r.travelMode,callback:function(y){if(y.length>0&&r.step){var v=y[y.length-1];if(v.legs.length>0){var u=v.legs[0].steps;for(var w=0,x;x=u[w];w++){x.step_number=w;o.drawPolyline({path:x.path,strokeColor:r.strokeColor,strokeOpacity:r.strokeOpacity,strokeWeight:r.strokeWeight});r.step(x)}}}}})}else{if(r.route){if(r.route.legs.length>0){var q=r.route.legs[0].steps;for(var s=0,t;t=q[s];s++){t.step_number=s;o.drawPolyline({path:t.path,strokeColor:r.strokeColor,strokeOpacity:r.strokeOpacity,strokeWeight:r.strokeWeight});r.step(t)}}}}};this.checkGeofence=function(r,q,s){return s.containsLatLng(new google.maps.LatLng(r,q))};this.checkMarkerGeofence=function(q,s){if(q.fences){for(var r=0,t;t=q.fences[r];r++){var u=q.getPosition();if(!o.checkGeofence(u.lat(),u.lng(),t)){s(q,t)}}}}};a.Route=function(d){this.map=d.map;this.route=d.route;this.step_count=0;this.steps=this.route.legs[0].steps;this.steps_length=this.steps.length;this.polyline=this.map.drawPolyline({path:new google.maps.MVCArray(),strokeColor:d.strokeColor,strokeOpacity:d.strokeOpacity,strokeWeight:d.strokeWeight}).getPath();this.back=function(){if(this.step_count>0){this.step_count--;var f=this.route.legs[0].steps[this.step_count].path;for(var e in f){if(f.hasOwnProperty(e)){this.polyline.pop()}}}};this.forward=function(){if(this.step_count<this.steps_length){var f=this.route.legs[0].steps[this.step_count].path;for(var e in f){if(f.hasOwnProperty(e)){this.polyline.push(f[e])}}this.step_count++}}};a.geolocate=function(d){if(navigator.geolocation){navigator.geolocation.getCurrentPosition(function(e){d.success(e);if(d.always){d.always()}},function(e){d.error(e);if(d.always){d.always()}},d.options)}else{d.not_supported();if(d.always){d.always()}}};a.geocode=function(d){this.geocoder=new google.maps.Geocoder();var e=d.callback;if(d.lat&&d.lng){d.latLng=new google.maps.LatLng(d.lat,d.lng)}delete d.lat;delete d.lng;delete d.callback;this.geocoder.geocode(d,function(g,f){e(g,f)})};a.staticMapURL=function(e){var h=[];var w;var f="http://maps.googleapis.com/maps/api/staticmap";if(e.url){f=e.url;delete e.url}f+="?";var u=e.markers;delete e.markers;if(!u&&e.marker){u=[e.marker];delete e.marker}var p=e.polyline;delete e.polyline;if(e.center){h.push("center="+e.center);delete e.center}else{if(e.address){h.push("center="+e.address);delete e.address}else{if(e.lat){h.push(["center=",e.lat,",",e.lng].join(""));delete e.lat;delete e.lng}else{if(e.visible){var d=encodeURI(e.visible.join("|"));h.push("visible="+d)}}}}var n=e.size;if(n){if(n.join){n=n.join("x")}delete e.size}else{n="630x300"}h.push("size="+n);if(!e.zoom){e.zoom=15}var v=e.hasOwnProperty("sensor")?!!e.sensor:true;delete e.sensor;h.push("sensor="+v);for(var k in e){if(e.hasOwnProperty(k)){h.push(k+"="+e[k])}}if(u){var l,m;for(var s=0;w=u[s];s++){l=[];if(w.size&&w.size!=="normal"){l.push("size:"+w.size)}else{if(w.icon){l.push("icon:"+encodeURI(w.icon))}}if(w.color){l.push("color:"+w.color.replace("#","0x"))}if(w.label){l.push("label:"+w.label[0].toUpperCase())}m=(w.address?w.address:w.lat+","+w.lng);if(l.length||s===0){l.push(m);l=l.join("|");h.push("markers="+encodeURI(l))}else{l=h.pop()+encodeURI("|"+m);h.push(l)}}}function t(i,j){if(i[0]==="#"){i=i.replace("#","0x");if(j){j=parseFloat(j);j=Math.min(1,Math.max(j,0));if(j===0){return"0x00000000"}j=(j*255).toString(16);if(j.length===1){j+=j}i=i.slice(0,8)+j}}return i}if(p){w=p;p=[];if(w.strokeWeight){p.push("weight:"+parseInt(w.strokeWeight,10))}if(w.strokeColor){var q=t(w.strokeColor,w.strokeOpacity);p.push("color:"+q)}if(w.fillColor){var x=t(w.fillColor,w.fillOpacity);p.push("fillcolor:"+x)}var o=w.path;if(o.join){for(var r=0,g;g=o[r];r++){p.push(g.join(","))}}else{p.push("enc:"+o)}p=p.join("|");h.push("path="+encodeURI(p))}h=h.join("&");return f+h};if(!google.maps.Polygon.prototype.getBounds){google.maps.Polygon.prototype.getBounds=function(f){var e=new google.maps.LatLngBounds();var j=this.getPaths();var h;for(var g=0;g<j.getLength();g++){h=j.getAt(g);for(var d=0;d<h.getLength();d++){e.extend(h.getAt(d))}}return e}}google.maps.Polygon.prototype.containsLatLng=function(h){var d=this.getBounds();if(d!==null&&!d.contains(h)){return false}var f=false;var e=this.getPaths().getLength();for(var g=0;g<e;g++){var q=this.getPaths().getAt(g);var m=q.getLength();var k=m-1;for(var l=0;l<m;l++){var o=q.getAt(l);var n=q.getAt(k);if(o.lng()<h.lng()&&n.lng()>=h.lng()||n.lng()<h.lng()&&o.lng()>=h.lng()){if(o.lat()+(h.lng()-o.lng())/(n.lng()-o.lng())*(n.lat()-o.lat())<h.lat()){f=!f}}k=l}}return f};google.maps.LatLngBounds.prototype.containsLatLng=function(d){return this.contains(d)};google.maps.Marker.prototype.setFences=function(d){this.fences=d};google.maps.Marker.prototype.addFence=function(d){this.fences.push(d)};return a}());var extend_object=function(b,c){if(b===c){return b}for(var a in c){b[a]=c[a]}return b};var array_map=function(e,d){if(Array.prototype.map&&e.map===Array.prototype.map){return e.map(d)}else{var c=[];var a=e.length;for(var b=0;b<a;b++){c.push(d(e[b]))}return c}}
/*!
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *       http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
;function InfoBox(a){a=a||{};google.maps.OverlayView.apply(this,arguments);this.content_=a.content||"";this.disableAutoPan_=a.disableAutoPan||false;this.maxWidth_=a.maxWidth||0;this.pixelOffset_=a.pixelOffset||new google.maps.Size(0,0);this.position_=a.position||new google.maps.LatLng(0,0);this.zIndex_=a.zIndex||null;this.boxClass_=a.boxClass||"infoBox";this.boxStyle_=a.boxStyle||{};this.closeBoxMargin_=a.closeBoxMargin||"2px";this.closeBoxURL_=a.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif";if(a.closeBoxURL===""){this.closeBoxURL_=""}this.infoBoxClearance_=a.infoBoxClearance||new google.maps.Size(1,1);this.isHidden_=a.isHidden||false;this.alignBottom_=a.alignBottom||false;this.pane_=a.pane||"floatPane";this.enableEventPropagation_=a.enableEventPropagation||false;this.div_=null;this.closeListener_=null;this.moveListener_=null;this.contextListener_=null;this.eventListeners_=null;this.fixedWidthSet_=null}InfoBox.prototype=new google.maps.OverlayView();InfoBox.prototype.createInfoBoxDiv_=function(){var b;var a;var f;var c=this;var d=function(g){g.cancelBubble=true;if(g.stopPropagation){g.stopPropagation()}};var e=function(g){g.returnValue=false;if(g.preventDefault){g.preventDefault()}if(!c.enableEventPropagation_){d(g)}};if(!this.div_){this.div_=document.createElement("div");this.setBoxStyle_();if(typeof this.content_.nodeType==="undefined"){this.div_.innerHTML=this.getCloseBoxImg_()+this.content_}else{this.div_.innerHTML=this.getCloseBoxImg_();this.div_.appendChild(this.content_)}this.getPanes()[this.pane_].appendChild(this.div_);this.addClickHandler_();if(this.div_.style.width){this.fixedWidthSet_=true}else{if(this.maxWidth_!==0&&this.div_.offsetWidth>this.maxWidth_){this.div_.style.width=this.maxWidth_;this.div_.style.overflow="auto";this.fixedWidthSet_=true}else{f=this.getBoxWidths_();this.div_.style.width=(this.div_.offsetWidth-f.left-f.right)+"px";this.fixedWidthSet_=false}}this.panBox_(this.disableAutoPan_);if(!this.enableEventPropagation_){this.eventListeners_=[];a=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"];for(b=0;b<a.length;b++){this.eventListeners_.push(google.maps.event.addDomListener(this.div_,a[b],d))}this.eventListeners_.push(google.maps.event.addDomListener(this.div_,"mouseover",function(g){this.style.cursor="default"}))}this.contextListener_=google.maps.event.addDomListener(this.div_,"contextmenu",e);google.maps.event.trigger(this,"domready")}};InfoBox.prototype.getCloseBoxImg_=function(){var a="";if(this.closeBoxURL_!==""){a="<img";a+=" src='"+this.closeBoxURL_+"'";a+=" align=right";a+=" style='";a+=" position: relative;";a+=" cursor: pointer;";a+=" margin: "+this.closeBoxMargin_+";";a+="'>"}return a};InfoBox.prototype.addClickHandler_=function(){var a;if(this.closeBoxURL_!==""){a=this.div_.firstChild;this.closeListener_=google.maps.event.addDomListener(a,"click",this.getCloseClickHandler_())}else{this.closeListener_=null}};InfoBox.prototype.getCloseClickHandler_=function(){var a=this;return function(b){b.cancelBubble=true;if(b.stopPropagation){b.stopPropagation()}google.maps.event.trigger(a,"closeclick");a.close()}};InfoBox.prototype.panBox_=function(o){var d;var b;var m=0,i=0;if(!o){d=this.getMap();if(d instanceof google.maps.Map){if(!d.getBounds().contains(this.position_)){d.setCenter(this.position_)}b=d.getBounds();var q=d.getDiv();var j=q.offsetWidth;var l=q.offsetHeight;var f=this.pixelOffset_.width;var e=this.pixelOffset_.height;var k=this.div_.offsetWidth;var p=this.div_.offsetHeight;var h=this.infoBoxClearance_.width;var g=this.infoBoxClearance_.height;var a=this.getProjection().fromLatLngToContainerPixel(this.position_);if(a.x<(-f+h)){m=a.x+f-h}else{if((a.x+k+f+h)>j){m=a.x+k+f+h-j}}if(this.alignBottom_){if(a.y<(-e+g+p)){i=a.y+e-g-p}else{if((a.y+e+g)>l){i=a.y+e+g-l}}}else{if(a.y<(-e+g)){i=a.y+e-g}else{if((a.y+p+e+g)>l){i=a.y+p+e+g-l}}}if(!(m===0&&i===0)){var n=d.getCenter();d.panBy(m,i)}}}};InfoBox.prototype.setBoxStyle_=function(){var a,b;if(this.div_){this.div_.className=this.boxClass_;this.div_.style.cssText="";b=this.boxStyle_;for(a in b){if(b.hasOwnProperty(a)){this.div_.style[a]=b[a]}}if(typeof this.div_.style.opacity!=="undefined"&&this.div_.style.opacity!==""){this.div_.style.filter="alpha(opacity="+(this.div_.style.opacity*100)+")"}this.div_.style.position="absolute";this.div_.style.visibility="hidden";if(this.zIndex_!==null){this.div_.style.zIndex=this.zIndex_}}};InfoBox.prototype.getBoxWidths_=function(){var a;var c={top:0,bottom:0,left:0,right:0};var b=this.div_;if(document.defaultView&&document.defaultView.getComputedStyle){a=b.ownerDocument.defaultView.getComputedStyle(b,"");if(a){c.top=parseInt(a.borderTopWidth,10)||0;c.bottom=parseInt(a.borderBottomWidth,10)||0;c.left=parseInt(a.borderLeftWidth,10)||0;c.right=parseInt(a.borderRightWidth,10)||0}}else{if(document.documentElement.currentStyle){if(b.currentStyle){c.top=parseInt(b.currentStyle.borderTopWidth,10)||0;c.bottom=parseInt(b.currentStyle.borderBottomWidth,10)||0;c.left=parseInt(b.currentStyle.borderLeftWidth,10)||0;c.right=parseInt(b.currentStyle.borderRightWidth,10)||0}}}return c};InfoBox.prototype.onRemove=function(){if(this.div_){this.div_.parentNode.removeChild(this.div_);this.div_=null}};InfoBox.prototype.draw=function(){this.createInfoBoxDiv_();var a=this.getProjection().fromLatLngToDivPixel(this.position_);this.div_.style.left=(a.x+this.pixelOffset_.width)+"px";if(this.alignBottom_){this.div_.style.bottom=-(a.y+this.pixelOffset_.height)+"px"}else{this.div_.style.top=(a.y+this.pixelOffset_.height)+"px"}if(this.isHidden_){this.div_.style.visibility="hidden"}else{this.div_.style.visibility="visible"}};InfoBox.prototype.setOptions=function(a){if(typeof a.boxClass!=="undefined"){this.boxClass_=a.boxClass;this.setBoxStyle_()}if(typeof a.boxStyle!=="undefined"){this.boxStyle_=a.boxStyle;this.setBoxStyle_()}if(typeof a.content!=="undefined"){this.setContent(a.content)}if(typeof a.disableAutoPan!=="undefined"){this.disableAutoPan_=a.disableAutoPan}if(typeof a.maxWidth!=="undefined"){this.maxWidth_=a.maxWidth}if(typeof a.pixelOffset!=="undefined"){this.pixelOffset_=a.pixelOffset}if(typeof a.alignBottom!=="undefined"){this.alignBottom_=a.alignBottom}if(typeof a.position!=="undefined"){this.setPosition(a.position)}if(typeof a.zIndex!=="undefined"){this.setZIndex(a.zIndex)}if(typeof a.closeBoxMargin!=="undefined"){this.closeBoxMargin_=a.closeBoxMargin}if(typeof a.closeBoxURL!=="undefined"){this.closeBoxURL_=a.closeBoxURL}if(typeof a.infoBoxClearance!=="undefined"){this.infoBoxClearance_=a.infoBoxClearance}if(typeof a.isHidden!=="undefined"){this.isHidden_=a.isHidden}if(typeof a.enableEventPropagation!=="undefined"){this.enableEventPropagation_=a.enableEventPropagation}if(this.div_){this.draw()}};InfoBox.prototype.setContent=function(a){this.content_=a;if(this.div_){if(this.closeListener_){google.maps.event.removeListener(this.closeListener_);this.closeListener_=null}if(!this.fixedWidthSet_){this.div_.style.width=""}if(typeof a.nodeType==="undefined"){this.div_.innerHTML=this.getCloseBoxImg_()+a}else{this.div_.innerHTML=this.getCloseBoxImg_();this.div_.appendChild(a)}if(!this.fixedWidthSet_){this.div_.style.width=this.div_.offsetWidth+"px";if(typeof a.nodeType==="undefined"){this.div_.innerHTML=this.getCloseBoxImg_()+a}else{this.div_.innerHTML=this.getCloseBoxImg_();this.div_.appendChild(a)}}this.addClickHandler_()}google.maps.event.trigger(this,"content_changed")};InfoBox.prototype.setPosition=function(a){this.position_=a;if(this.div_){this.draw()}google.maps.event.trigger(this,"position_changed")};InfoBox.prototype.setZIndex=function(a){this.zIndex_=a;if(this.div_){this.div_.style.zIndex=a}google.maps.event.trigger(this,"zindex_changed")};InfoBox.prototype.getContent=function(){return this.content_};InfoBox.prototype.getPosition=function(){return this.position_};InfoBox.prototype.getZIndex=function(){return this.zIndex_};InfoBox.prototype.show=function(){this.isHidden_=false;if(this.div_){this.div_.style.visibility="visible"}};InfoBox.prototype.hide=function(){this.isHidden_=true;if(this.div_){this.div_.style.visibility="hidden"}};InfoBox.prototype.open=function(c,a){var b=this;if(a){this.position_=a.getPosition();this.moveListener_=google.maps.event.addListener(a,"position_changed",function(){b.setPosition(this.getPosition())})}this.setMap(c);if(this.div_){this.panBox_()}};InfoBox.prototype.close=function(){var a;if(this.closeListener_){google.maps.event.removeListener(this.closeListener_);this.closeListener_=null}if(this.eventListeners_){for(a=0;a<this.eventListeners_.length;a++){google.maps.event.removeListener(this.eventListeners_[a])}this.eventListeners_=null}if(this.moveListener_){google.maps.event.removeListener(this.moveListener_);this.moveListener_=null}if(this.contextListener_){google.maps.event.removeListener(this.contextListener_);this.contextListener_=null}this.setMap(null)};